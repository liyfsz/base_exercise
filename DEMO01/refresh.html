<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>上拉下拉刷新</title>
	</head>
	<body>
		<div>
			<div>
				<ul>
					<li>11</li>
					<li>11</li>
					<li>11</li>
					<li>11</li>
					<li>11</li>
				</ul>
			</div>
		</div>
		<footer>
			<table>
				<tr>
					<td>aaa</td>
					<td>aaa</td>
					<td>aaa</td>
					<td>aaa</td>
				</tr>
			</table>
		</footer>
		<script type="text/javascript" src="js/jquery-1.11.1.min.js" ></script>
		<script>
			function refresh(refresh,loadmore) {
  $(window).scroll(function(){
    console.log('正在滑动f');

    var scrollTop = $(this).scrollTop();    //滚动条距离顶部的高度
    var scrollHeight = $(document).height();   //当前页面的总高度
    var clientHeight = $(this).height();    //当前可视的页面高度
    // console.log("top:"+scrollTop+",doc:"+scrollHeight+",client:"+clientHeight);
    if(scrollTop + clientHeight >= scrollHeight){   //距离顶部+当前高度 >=文档总高度 即代表滑动到底部 count++;         //每次滑动count加1
      // filterData(serviceTypeId,industryId,cityId,count); //调用筛选方法，count为当前分页数
      console.log('下拉');

      if(loadmore){
        loadmore();
      }
    }else if(scrollTop<=0){
      //滚动条距离顶部的高度小于等于0 TODO
      //alert("下拉刷新，要在这调用啥方法？");
      
      console.log('上拉');
      if(refresh){
        refresh();
      }

    }

  });

}
		</script>
	</body>
</html>
